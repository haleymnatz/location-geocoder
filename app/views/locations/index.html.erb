<h1>Location Geocoder</h1>

<%= form_for @location, url: locations_path do |f| %>
  <%= f.fields_for :address do |a| %>
    <%= a.label :street_address %>
    <%= a.text_field :street_address, required: true %>
    <br />
    <%= a.label :city %>
    <%= a.text_field :city, required: true %>
    <%= a.label :state %>
    <%= a.text_field :state, maxlength: 2, required: true %>
    <%= a.label :zip_code %>
    <%= a.text_field :zip_code, maxlength: 5, required: true %>
  <% end %>
  <%= f.submit "Get Location" %>
<% end %>

<p id="notice"><%= notice %></p>

<br /></br />
<table>
  <tr>
    <th>Address</th>
    <th>Latitude</th>
    <th>Longitude</th>
  </tr>
  <% @locations.each do |location| %>
    <tr>
      <td><%= location.address %></td>
      <td><%= location.latitude %></td>
      <td><%= location.longitude %></td>
      <td><%= button_to "Delete Location", location_path(location),
              method: "delete", data: { confirm: 'Are you sure?'}%>
      </td>
    </tr>
  <% end %>
</table>
